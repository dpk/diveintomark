<!DOCTYPE HTML>
<html lang=en>
<head>
<meta charset=utf-8>
<title>Model-view-controller [dive into mark]</title>
<link rel=alternate type=application/atom+xml href=/web/20110910232639/http://diveintomark.org/feed/>
<link rel=me type=text/html href=/web/20110910232639/http://www.google.com/profiles/pilgrim>
<link rel=author href=/web/20110910232639/http://diveintomark.org/about>
<link rel=search type=application/opensearchdescription+xml href=/web/20110910232639/http://wearehugh.com/public/2006/09/opensearch-full.xml title="dive into mark">
<link rel="shortcut icon" href=/web/20110910232639im_/http://diveintomark.org/favicon.ico>
<link rel=prev href="/web/20110910232639/http://diveintomark.org/archives/2001/12/19/feeling_teachy" title="Feeling teachy">
<link rel=next href="/web/20110910232639/http://diveintomark.org/archives/2001/12/20/whats_on_your_ipod-2" title="What&#8217;s on your iPod?">
<link rel=up href="/web/20110910232639/http://diveintomark.org/archives#p168" title="December 2001">
<link rel='index' title='dive into mark' href='/web/20110910232639/http://diveintomark.org/' />
<link rel='prev' title='Feeling teachy' href='/web/20110910232639/http://diveintomark.org/archives/2001/12/19/feeling_teachy' />
<link rel='next' title='What&#8217;s on your iPod?' href='/web/20110910232639/http://diveintomark.org/archives/2001/12/20/whats_on_your_ipod-2' />
<link rel='canonical' href='/web/20110910232639/http://diveintomark.org/archives/2001/12/19/modelviewcontroller' />
<link rel='shortlink' href='/web/20110910232639/http://diveintomark.org/?p=168' />
<meta name="keywords" content="j2ee,mvc">
<link href="/web/20110910232639cs_/http://fonts.googleapis.com/css?family=Lora" rel=stylesheet>
<style type=text/css>
/*dive into minimalism(c)2010 Mark Pilgrim,MIT-licensed including graphics*/
html{background:white url(/web/20110910232639/http://wearehugh.com/m.jpg) no-repeat bottom right;color:black}
body{font:normal medium Lora,serif;margin:1.75em auto;width:40em;line-height:1.75;word-spacing:0.1em}
em,i,blockquote{font-family:Lora,serif;font-style:oblique}
strong,b{font-family:Lora,serif;}
pre,code,var,samp,kbd,tt{font-family:monospace}
h2,h3{font-weight:bold}
.c{font-family:'Arial Unicode MS',FreeSerif,'DejaVu Sans',sans-serif}
a{background:transparent;text-decoration:none;border-bottom:1px dotted}
a:hover{border-bottom:1px solid}
a:link{color:#1b67c9}
a:visited{color:darkorchid}
h1 a,h2 a,h3 a,#nav a,.punch a{color:inherit !important}
abbr,.p{border:0;letter-spacing:0.1em;text-transform:lowercase;font-variant:small-caps}
h1,h2,h3,p,ul,ol,#nav{margin:1.75em 0}
h1,h2,h3{font-size:medium}
h1,h2{display:inline}
h1{font-weight:normal}
pre,tt{white-space:pre-wrap;font-size:medium;line-height:2.154}
cite{font-style:normal}
img{border:0}
.framed{border:1px solid}
.cl,#arc th,#arc td,.punch p{list-style:none;margin:0;padding:0}
.cl li{margin-bottom:-1px;border-bottom:1px dotted;overflow:hidden}
.sig,.tb,.pb,blockquote{font-size:small;line-height:2.154;margin:2.154em 0;padding:0}
blockquote{font-style:oblique;border-left:1px dotted;margin-left:2.154em;padding-left:2.154em}
blockquote p{margin:2.154em 0}
.tb,.pb{margin-top:0;padding:2.154em 0}
.sig,.punch,#arc th{text-align:right}
.f,.c{text-align:center;clear:both}
#comment,#arc{width:100%}
#comment{height:14.6em;margin:0;line-height:2.154}
.me{background:papayawhip;color:black;padding:1.75em 1.75em 0 1.75em;border-top:1px dotted;margin-top:-2px}
.me>p:first-child{margin-top:0}
.punch{float:right;font-size:x-small;margin:0 0 1.75em 1.75em;line-height:1.75}
#nav + .punch + p:first-letter{float:left;color:gainsboro;padding:0.11em 4px 0 0;font:normal 4em/0.68 serif}
#arc th{padding:0 1.75em 0 0;vertical-align:baseline}
#arc{border-collapse:collapse}
figure{display:block;text-align:center;margin:1.75em 0}
figure img{display:block;margin:0 auto}
</style>
<script>_gaq=[['_setAccount','UA-7434570-2'],['_trackPageview'],['_trackPageLoadTime']];(function(){var g=document.createElement('script');g.src='//www.google-analytics.com/ga.js';g.setAttribute('async','true');document.documentElement.firstChild.appendChild(g);})();</script>
<link rel=canonical href="/web/20110910232639/http://diveintomark.org/archives/2001/12/19/modelviewcontroller">
</head>
<body>
<!-- BEGIN WAYBACK TOOLBAR INSERT -->

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/diveintomark.org\/archives\/2001\/12\/19\/modelviewcontroller";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "10";
var displayMonth = "Sep";
var displayYear = "2011";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px; z-index:9000;">
<div id="wm-ipp-inside" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://diveintomark.org/archives/2001/12/19/modelviewcontroller" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20110910232639" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20101215133814/http://diveintomark.org/archives/2001/12/19/modelviewcontroller" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="15 Dec 2010"><strong>DEC</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 23:26:39 Sep 10, 2011">SEP</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Oct
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20101215133814/http://diveintomark.org/archives/2001/12/19/modelviewcontroller" title="13:38:14 Dec 15, 2010" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 23:26:39 Sep 10, 2011">10</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20100615042737/http://diveintomark.org/archives/2001/12/19/modelviewcontroller" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="15 Jun 2010"><strong>2010</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 23:26:39 Sep 10, 2011">2011</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2012
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20110910232639*/http://diveintomark.org/archives/2001/12/19/modelviewcontroller" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>14 captures</strong></a>
           <div style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">27 Apr 06 - 10 Sep 11</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000101101100_2007:-1:110000000000_2008:-1:000000100000_2009:-1:000100000000_2010:-1:000001000111_2011:8:000000001000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->

<div id=nav><h1><a accesskey=1 href=/web/20110910232639/http://diveintomark.org/>dive into mark</a></h1> &#8227;
<a href="/web/20110910232639/http://diveintomark.org/archives#p168">December 19, 2001</a> &#8227;
<h2>Model-view-controller</h2> (<a href="/web/20110910232639/http://diveintomark.org/tag/j2ee" rel="tag">j2ee</a>, <a href="/web/20110910232639/http://diveintomark.org/tag/mvc" rel="tag">mvc</a>)</div>
<p><cite>IBM DeveloperWorks</cite>: <a href="/web/20110910232639/http://www-106.ibm.com/developerworks/java/library/j-diag5.html">The Liar View bug pattern</a>.  In my research for a simple, cogent explanation of the <a href="/web/20110910232639/http://java.sun.com/blueprints/patterns/j2ee_patterns/model_view_controller/">model-view-controller architecture</a> that would not confuse the hell out of everyone in the world without a CS degree, I came across this article on what they call the Liar View bug pattern, an article which is, I believe, specifically designed to confuse the hell out of everyone in the world without a CS degree.  But here&#8217;s the plain English version:</p>

<p>&#8220;Model-view-controller&#8221; is just a fancy name for the sort of architecture that everybody says you ought to be building, but nobody actually builds (except Smalltalk freaks, but never mind that). It is not specific to web applications, but that&#8217;s the example I&#8217;ll use because that&#8217;s what everybody says they want to build these days.</p>

<p>In your standard multi-tier web application, your JSP/ASP/PHP/DTML/whatever layer is the &#8220;view&#8221;; this is what the end user actually sees and interacts with.  When the user clicks &#8216;submit&#8217; in an HTML form, the request (complete with all the form information) is sent to the &#8220;controller&#8221;.  In ASP development, this is another ASP page; in J2EE development, it&#8217;s a JavaBean; in other environments, it could be a CGI script.  To-may-to, to-mah-to.</p>

<p>The controller parses out the data that the user entered in the HTML form and passes it to the &#8220;model&#8221;, which contains actual business logic.  And this is where everybody always skimps.  In ASP development, the business logic is supposed to be handled in a COM object, deployed under MTS.  In J2EE, it&#8217;s supposed to be in an EJB.  Other architectures have similar lofty notions about where business logic should be, which nobody actually follows; they just stuff the code wherever it happens to be convenient, and bitch about it later when the application can&#8217;t be extended or code gets duplicated or things generally go downhill.  Don&#8217;t blame me, I told you how to do it right in the first place.  Does anybody listen to me?  No.  Read on.</p>

<p>Once the model is done doing whatever business-y things it does, it returns some result back to the controller, which, depending on the result, selects a new view to present to the end user.  In a web application, this means redirecting to the appropriate ASP/JSP/whatever page.  Depending on your needs, your controller may also pass along the result it got from the model; in a web application, this could mean concatenating values in the query string, or stuffing them somewhere in the Session variable.</p>

<p>I would like to reiterate that no one actually does all this.</p>

<p>There is a point to architecting applications this way: flexibility.  The beauty of model-view-controller separation is that new views and controllers can be created independently of the model.  The model knows nothing of HTML forms in ASP or JSP pages or whatever.  The model defines a set of business functions that only ever get called by controllers, and the controllers act as proxies between the end user (interacting with the view) and the business logic (encapsulated in the model).  This means that you can add a new view (like a wireless mobile phone interface is the standard example &#8212; and again, nobody ever does that either) and its associated controller, and your model doesn&#8217;t know or care that there are now two different ways for human beings to interact with the application.  This is called &#8220;code reuse&#8221;, specifically &#8220;business logic reuse&#8221;.</p>

<p>Another great thing about the model-view-controller architecture is that you can create automated tests to test your business logic, since every conceivable business-y thing you&#8217;d want to do call be called directly without going through a user interface.  In essense, you create automated controllers that take their input from views that don&#8217;t require human intervention (databases, files, or even just hard-coded values), call the model, and then check the results and make sure they&#8217;re correct.  There are <a href="/web/20110910232639/http://www.xprogramming.com/software.htm">entire frameworks</a> available for doing this sort of testing; I wrote about <a href="/web/20110910232639/http://diveintopython.org/roman_divein.html">Python&#8217;s unit testing framework</a> in <a title="Dive Into Python" href="/web/20110910232639/http://diveintopython.org/">my book</a>.</p>

<p>Notice, however, that these automated tests are only testing one piece of your application: the business logic.  That&#8217;s all well and good (tested business logic is better than untested business logic), but it&#8217;s only a small piece of the entire puzzle.  There may well be bugs in your views, or in your controllers, which manifest themselves as &#8220;bugs&#8221; to the end user.  Maybe the controller is keeping a local cache (in the Session variable) of some business data (returned from the model) and fails to update it properly; the user does something in the view, expecting to see the data change, but lo and behold, the data does not change, and the user becomes very very angry and takes it out on their keyboard/monitor/minitower/whatever.  The bitch of it is that the data really did change &#8212; at least, as far as the model is concerned &#8212; but after it changed, the controller was doing other stuff (keeping a local cache) and failed in its duties (keeping the cache fresh).  Automated testing that only tests the model will not catch this bug.</p>

<p>So that&#8217;s the entire point of IBM&#8217;s article that I linked above: if you test one piece of your application, it won&#8217;t catch bugs in other pieces.  Duh.  But it points out an important point &#8212; not really a problem, exactly, but a point nonetheless &#8212; about the model-view-controller architecture.  We went to all this trouble to separate the different areas of our application (and believe me, it&#8217;s a lot of trouble), and that paid off in the sense that it allowed us to set up automated tests of our business logic.  But don&#8217;t get seduced into thinking that you can fire all your QA staff because of this (or, in the case of my previous employer, not hire any to begin with).  Your automated tests don&#8217;t even attempt to touch the parts of the application that end users actually care about: the interface (and associated proxies back to the business logic).</p>

<p>Depending on your environment, you may also be able to automate testing your interface too.  For web applications, there is a framework called <a href="/web/20110910232639/http://httpunit.sourceforge.net/doc/Cookbook.html">HttpUnit</a> which will allow you to set up scripts for simulating actual user input in your HTML forms, and checking the return values.  This is, of course, dependent on your interface, so it can be fragile if your generated HTML pages ever change significantly (like changing the name of a form field or something).  Automated testing of your model is also fragile, in the sense that it depends on the public API of your model, but (in my experience) this changes much less quickly than the user interface.</p>

<p>Again, you should treat all of this more as an ideal than an actuality.  No developers I know actually program like this, although the good ones at least try.  The separation between business logic and other stuff may start out clean, but it never stays that way for long.  Business logic always seaps into the controllers, and into the views themselves.  And the API for models inevitably slants towards the first view that you implement, making it more difficult to implement radically different views that require data sliced in different ways, or can only offer a certain subset of the data that the model&#8217;s API functions require.</p>

<p>Often people cheat and implement interface-specific logic in the model, because it&#8217;s so much faster and easier and more direct to do it there than anywhere else.  &#8220;Faster&#8221; is the key word here; strict separation between business logic and presentation can be time-consuming, as the controllers spend too much time marshalling data into the format the model expects (parameters to a function) and unmarshalling the results into data the view can use.  So you&#8217;ll end up with an Item class that has nice business-y functions like getStockStatus (returns Integer) and getExtendedInfo (returns HashMap), and then an abomination like getExtendedInfoAndSomeOtherStuffAsHTMLForThatReportThatJoeSaidWasTooSlow (returns String, which is the actual HTML to present to the user).  Oops.  That&#8217;s the real world for you.</p>

<p><strong>Update</strong>: <a href="/web/20110910232639/http://www.cabezal.com/blog/2001_12_01_archive.html#8068326">Hugh Pyle</a> notes another cool thing about the model-view-controller architecture which I didn&#8217;t discuss above, namely that it can (in certain environments) operate asynchronously.  Views register themselves with the model to say that they&#8217;d like to receive updates whenever certain things happen (new data added, data modified, whatever).  This is usually accomplished with some sort of message passing, but it could also be a function callback; it depends on what your programming environment supports.  But the point is that the model doesn&#8217;t know anything specifically about the views, only that they&#8217;ve registered to receive messages under certain circumstances.</p>

<p>This doesn&#8217;t work for standard multi-tier web applications, because the view is generated as HTML and sent to the client, where it sits dumbly until the end user does something to initiate an action.  So the model can&#8217;t asynchronously tell the view that something interesting happened, because the view isn&#8217;t listening.</p>

<p>This, incidentally, is why web applications fundamentally suck.  They&#8217;re like playing turn-based roleplaying games instead of first-person shooters.  You get whatever you get in your HTML forms, and then you&#8217;re stuck with it until you click &#8216;submit&#8217; and play the next turn.</p>

<p><strong>Shameless plug</strong>: I teach this stuff for a living, you know.  My next Java/J2EE class runs <a href="/web/20110910232639/http://asp-web.info.apple.com/em/search/detail_full.lasso?-token.id=EV016177">January 14th through 18th, 2002</a>.  For future classes, you can <a href="mailto:mark@diveintopython.org">contact me directly</a> or <a href="mailto:relations@masslight.com">contact my employer</a>.</p>
<p class=c>&#167;

<h3 id=respond>Respond privately</h3>
<p><i>I am no longer accepting public comments on this post, but you can use this form to contact me privately.  (Your message will not be published.)</i></p>
<form action="/web/20110910232639/http://wearehugh.com/public/contact.cgi" method=POST id=commentform>
<p><label for=author>Name </label><br>
<input type=text name=author id=author>
<p><label for=email>Email</label><br>
<input type=text name=email id=email></p>
<p><label for=comment>Message</label>
<textarea name=comment id=comment rows=10 cols=40></textarea></p>
<p><input type=submit value="Send message">
</p>
</form>
<p class=c>&#167;
<div class=f>
<p>
<a title="my comments here and elsewhere" href=/web/20110910232639/http://firehose.diveintomark.org/>firehose</a> &#x2027;
<a title="my current open source projects" href="/web/20110910232639/http://code.google.com/u/@UxdWQ1xUDhhBWwd%2F/">code</a> &#x2027;
<a title="my personal news aggregator" href=/web/20110910232639/http://feeds.diveintomark.org/>planet</a>
<p>&#169; 2001&#8211;present <a accesskey=9 href=/web/20110910232639/http://diveintomark.org/about>Mark Pilgrim</a>
</div>
</body>
</html>

<!-- Dynamic page generated in 0.388 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-06-13 15:14:52 -->
<!-- super cache -->




<!--
     FILE ARCHIVED ON 23:26:39 Sep 10, 2011 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:36:37 Jan 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
