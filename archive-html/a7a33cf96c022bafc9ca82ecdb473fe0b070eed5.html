<!DOCTYPE HTML>
<html lang=en>
<head>
<meta charset=utf-8>
<title>Notes on Atom autodiscovery [dive into mark]</title>
<link rel=alternate type=application/atom+xml href=/web/20110806084451/http://diveintomark.org/feed/>
<link rel=me type=text/html href=/web/20110806084451/http://www.google.com/profiles/pilgrim>
<link rel=author href=/web/20110806084451/http://diveintomark.org/about>
<link rel=search type=application/opensearchdescription+xml href=/web/20110806084451/http://wearehugh.com/public/2006/09/opensearch-full.xml title="dive into mark">
<link rel="shortcut icon" href=/web/20110806084451im_/http://diveintomark.org/favicon.ico>
<link rel=prev href="/web/20110806084451/http://diveintomark.org/archives/2003/12/13/atom03" title="Atom 0.3 snapshot">
<link rel=next href="/web/20110806084451/http://diveintomark.org/archives/2003/12/20/autodiscovery-tests" title="Atom autodiscovery conformance tests">
<link rel=up href="/web/20110806084451/http://diveintomark.org/archives#p1454" title="December 2003">
<link rel="alternate" type="application/rss+xml" title="dive into mark &raquo; Notes on Atom autodiscovery Comments Feed" href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery/feed" />
<link rel='index' title='dive into mark' href='/web/20110806084451/http://diveintomark.org/' />
<link rel='prev' title='Atom 0.3 snapshot' href='/web/20110806084451/http://diveintomark.org/archives/2003/12/13/atom03' />
<link rel='next' title='Atom autodiscovery conformance tests' href='/web/20110806084451/http://diveintomark.org/archives/2003/12/20/autodiscovery-tests' />
<link rel='canonical' href='/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery' />
<link rel='shortlink' href='/web/20110806084451/http://diveintomark.org/?p=1454' />
<meta name="description" content="Some notes to bring us one step closer to a real RFC for Atom autodiscovery. Because, you know, it would be nice to have real specs that don't only exist on sites with cat pictures on them.">
<meta name="keywords" content="atom,autodiscovery">
<link href="/web/20110806084451cs_/http://fonts.googleapis.com/css?family=Lora" rel=stylesheet>
<style type=text/css>
/*dive into minimalism(c)2010 Mark Pilgrim,MIT-licensed including graphics*/
html{background:white url(/web/20110806084451/http://wearehugh.com/m.jpg) no-repeat bottom right;color:black}
body{font:normal medium Lora,serif;margin:1.75em auto;width:40em;line-height:1.75;word-spacing:0.1em}
em,i,blockquote{font-family:Lora,serif;font-style:oblique}
strong,b{font-family:Lora,serif;}
pre,code,var,samp,kbd,tt{font-family:monospace}
h2,h3{font-weight:bold}
.c{font-family:'Arial Unicode MS',FreeSerif,'DejaVu Sans',sans-serif}
a{background:transparent;text-decoration:none;border-bottom:1px dotted}
a:hover{border-bottom:1px solid}
a:link{color:#1b67c9}
a:visited{color:darkorchid}
h1 a,h2 a,h3 a,#nav a,.punch a{color:inherit !important}
abbr,.p{border:0;letter-spacing:0.1em;text-transform:lowercase;font-variant:small-caps}
h1,h2,h3,p,ul,ol,#nav{margin:1.75em 0}
h1,h2,h3{font-size:medium}
h1,h2{display:inline}
h1{font-weight:normal}
pre,tt{white-space:pre-wrap;font-size:medium;line-height:2.154}
cite{font-style:normal}
img{border:0}
.framed{border:1px solid}
.cl,#arc th,#arc td,.punch p{list-style:none;margin:0;padding:0}
.cl li{margin-bottom:-1px;border-bottom:1px dotted;overflow:hidden}
.sig,.tb,.pb,blockquote{font-size:small;line-height:2.154;margin:2.154em 0;padding:0}
blockquote{font-style:oblique;border-left:1px dotted;margin-left:2.154em;padding-left:2.154em}
blockquote p{margin:2.154em 0}
.tb,.pb{margin-top:0;padding:2.154em 0}
.sig,.punch,#arc th{text-align:right}
.f,.c{text-align:center;clear:both}
#comment,#arc{width:100%}
#comment{height:14.6em;margin:0;line-height:2.154}
.me{background:papayawhip;color:black;padding:1.75em 1.75em 0 1.75em;border-top:1px dotted;margin-top:-2px}
.me>p:first-child{margin-top:0}
.punch{float:right;font-size:x-small;margin:0 0 1.75em 1.75em;line-height:1.75}
#nav + .punch + p:first-letter{float:left;color:gainsboro;padding:0.11em 4px 0 0;font:normal 4em/0.68 serif}
#arc th{padding:0 1.75em 0 0;vertical-align:baseline}
#arc{border-collapse:collapse}
figure{display:block;text-align:center;margin:1.75em 0}
figure img{display:block;margin:0 auto}
</style>
<script>_gaq=[['_setAccount','UA-7434570-2'],['_trackPageview'],['_trackPageLoadTime']];(function(){var g=document.createElement('script');g.src='//www.google-analytics.com/ga.js';g.setAttribute('async','true');document.documentElement.firstChild.appendChild(g);})();</script>
<link rel=canonical href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery">
</head>
<body>
<!-- BEGIN WAYBACK TOOLBAR INSERT -->

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/diveintomark.org\/archives\/2003\/12\/19\/atom-autodiscovery";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "6";
var displayMonth = "Aug";
var displayYear = "2011";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px; z-index:9000;">
<div id="wm-ipp-inside" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://diveintomark.org/archives/2003/12/19/atom-autodiscovery" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20110806084451" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20110608053313/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="8 Jun 2011"><strong>JUN</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 8:44:51 Aug 6, 2011">AUG</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Sep
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20110608053313/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery" title="5:33:13 Jun 8, 2011" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 8:44:51 Aug 6, 2011">6</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20100529063859/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="29 May 2010"><strong>2010</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 8:44:51 Aug 6, 2011">2011</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2012
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20110806084451*/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>40 captures</strong></a>
           <div style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">17 Apr 06 - 6 Aug 11</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000100512100_2007:-1:011111100111_2008:-1:111121120200_2009:-1:010000000000_2010:-1:000110010111_2011:7:000001010000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->

<div id=nav><h1><a accesskey=1 href=/web/20110806084451/http://diveintomark.org/>dive into mark</a></h1> &#8227;
<a href="/web/20110806084451/http://diveintomark.org/archives#p1454">December 19, 2003</a> &#8227;
<h2>Notes on Atom autodiscovery</h2> (<a href="/web/20110806084451/http://diveintomark.org/tag/atom" rel="tag">atom</a>, <a href="/web/20110806084451/http://diveintomark.org/tag/autodiscovery" rel="tag">autodiscovery</a>)</div>
<p>Some notes to bring us one step closer to a real RFC for Atom autodiscovery, suitable for submission to a real standards body like the IETF (or wherever Atom ends up).  Because, you know, it would be nice to have real specs that don&#8217;t only exist on sites with cat pictures on them.</p>

<p>One of the things I&#8217;ve learned recently is that the <code>rel</code> and <code>type</code> attribute values in the <code>&lt;link></code> element are case-insensitive.  I have some examples that illustrate a surprising number of variations that conform to the HTML and XHTML specifications.  I&#8217;m not just making this up because I like things to be complicated; this is how (X)HTML works.</p>

<p>The purpose of Atom autodiscovery is for clients to find the location of a web site&#8217;s Atom feed, knowing only the location of the site.  For example, an end user wishes to subscribe to the Atom feed of a site.  Their Atom-aware aggregator client prompts them to enter the home page of the site.  The client retrieves the home page, finds the Atom autodiscovery &lt;link> element, and then retrieves the Atom feed.  If the client plans to retrieve the Atom feed more than once, the client SHOULD cache the URI of the Atom feed.</p>

<p>Clients could also set up local proxies that monitor the web sites the end user visits, and notifies the end user when an Atom feed is discovered.  Atom autodiscovery support could also be built into future versions of web browsers.</p>

<p>If clients wish to support Atom autodiscovery, they MUST support all of the variations listed here.</p>

<ul>
<li><p>Location of an autodiscovery &lt;link> element</p>
  <ul>
  <li>MAY appear within the &lt;head> element of an HTML or XHTML document, but MUST NOT appear within the &lt;body> [<a href="/web/20110806084451/http://www.w3.org/TR/html401/struct/links.html#h-12.3">HTML4, 12.3</a>]</li>
  </ul>
<li><p>Structure of an autodiscovery &lt;link> element</p>
  <ul>
  <li><p><code>rel</code> attribute MUST be present</p>
    <ul>
    <li>value is a space-separated list of keywords [<a href="/web/20110806084451/http://www.w3.org/TR/html401/types.html#type-links">HTML4, 6.12</a>]</li>
    <li>value list MUST contain the keyword &#8220;alternate&#8221; or some case-variation of it</li>
    <li>value is case-insensitive [<a href="/web/20110806084451/http://www.w3.org/TR/html401/types.html#h-6.12">HTML4, 6.12</a>]</li>
    </ul>
  </li>
  <li><p><code>type</code> attribute MUST be present</p>
    <ul>
    <li>value MUST be &#8220;application/atom+xml&#8221; or some case-variation of it</li>
    <li>value is case-insensitive [<a href="/web/20110806084451/http://www.w3.org/TR/html401/types.html#h-6.7">HTML4, 6.7</a>]</li>
    </ul>
  </li>
  <li><p><code>href</code> attribute MUST be present</p>
    <ul>
    <li>value is URI for Atom feed [<a href="/web/20110806084451/http://www.mnot.net/drafts/draft-nottingham-atom-format-02.html">AtomFormat02</a>]</li>
    <li>value is case-sensitive [<a href="/web/20110806084451/http://www.w3.org/TR/html401/types.html#h-6.4">HTML4, 6.4</a>]</li>
    <li>value MUST be a URI</li>
    <li>value MAY be a relative URI [<a href="/web/20110806084451/http://www.w3.org/TR/html401/types.html#h-6.4">HTML4, 6.4</a>]</li>
    <li>before dereferencing the URI, clients MUST resolve it to a full URI [<a href="/web/20110806084451/http://www.faqs.org/rfcs/rfc1808.html">RFC 1808 section 3</a>] using the current document&#8217;s base URI [<a href="/web/20110806084451/http://www.w3.org/TR/html401/struct/links.html#h-12.4">HTML4, 12.4</a>]</li>
    </ul>
  </li>
  <li><p><code>title</code> attribute MAY be present</p>
    <ul>
    <li>governed by [<a href="/web/20110806084451/http://www.w3.org/TR/html401/struct/global.html#h-7.4.3">HTML4, 7.4.3</a>]</li>
    <li>if present, clients MAY present the title to the end user</li>
    </ul>
  </li>
  <li><p>other attributes MAY be present, as specified in [<a href="/web/20110806084451/http://www.w3.org/TR/html401/struct/links.html#h-12.3">HTML4, 12.3</a>], but they are not used by this specification and clients MAY ignore them</p>
  </li>
  </ul>
</li>
<li><p>Multiple autodiscovery &lt;link> elements</p>
  <ul>
  <li>An HTML document MAY contain one or more Atom autodiscovery &lt;link> elements</li>
  <li>Each autodiscovery &lt;link> element SHOULD point to a different Atom feed</li>
  <li>If multiple autodiscovery &lt;link> elements are present, each element SHOULD include a descriptive title in the title attribute.  Clients MAY use these titles to present a list of available Atom feeds to the end user.</li>
  </ul>
</li>
<li><p>Compatibility with different versions of HTML and XHTML</p>
  <ul>
  <li><p>HTML 2/3.2/4.0/4.01</p>
    <ul>
    <li>use &lt;link> (empty element, no end tag)</li>
    <li>element names are not case-sensitive</li>
    <li>attribute names are not case-sensitive</li>
    <li>quotes around attribute values are optional</li>
    </ul>
  </li>
  <li><p>XHTML 1.0/1.1</p>
    <ul>
    <li>use &lt;link &#8230; /> (empty element, Appendix-C-compatible end slash with leading space [<a href="/web/20110806084451/http://www.w3.org/TR/xhtml1/#C_2">XHTML1, C.2</a>])</li>
    <li>element and attribute names are case-sensitive and MUST be lowercase [<a href="/web/20110806084451/http://www.w3.org/TR/xhtml1/#h-4.2">XHTML1, 4.2</a>]</li>
    <li>attribute values MUST be quoted [<a href="/web/20110806084451/http://www.w3.org/TR/xhtml1/#h-4.4">XHTML1, 4.4</a>]</li>
    </ul>
  </li>
  </ul>
</li>
<li><p>Examples</p>
  <ul>
  <li><p>Each of the following examples assume an autodiscovery &lt;link> element in an HTML document located at <samp>http://www.example.com/</samp>.  They each reference an Atom feed at <samp>http://www.example.com/xml/atom.xml</samp>.</p>
    <ul>
    <li><code>&lt;link rel="alternate" type="application/atom+xml" href="http://www.example.com/xml/atom.xml"></code></li>
    <li><code>&lt;link rel="alternate" type="application/atom+xml" href="xml/atom.xml"></code></li>
    <li><code>&lt;link rel="alternate" type="application/atom+xml" href="/xml/atom.xml"></code></li>
    <li><code>&lt;link rel=alternate type=application/atom+xml href=http://www.example.com/xml/atom.xml></code></li>
    <li><code>&lt;link rel="AlTeRnAtE" type="application/atom+xml" href="http://www.example.com/xml/atom.xml"></code></li>
    <li><code>&lt;link rel="alternate" type="APPLICATION/ATOM+XML" href="http://www.example.com/xml/atom.xml"></code></li>
    <li><code>&lt;LINK REL="alternate" TYPE="application/atom+xml" HREF="http://www.example.com/xml/atom.xml"></code></li>
    <li><code>&lt;link href="http://www.example.com/xml/atom.xml" type="APPLICATION/ATOM+XML" rel="alternate"></code></li>
    <li><code>&lt;link rel="alternate foo" type="application/atom+xml" href="http://www.example.com/xml/atom.xml"></code></li>
    <li><code>&lt;link rel="foo alternate" type="application/atom+xml" href="http://www.example.com/xml/atom.xml"></code></li>
    <li><code>&lt;link rel="foo alternate bar" type="application/atom+xml" href="http://www.example.com/xml/atom.xml"></code></li>
    </ul>
  </li>

  <li><p>Each of the following examples assume an autodiscovery &lt;link> element in an XHTML document located at <samp>http://www.example.com/</samp>.  They each reference an Atom feed at <samp>http://www.example.com/xml/atom.xml</samp>.</p>
    <ul>
    <li><code>&lt;link rel="alternate" type="application/atom+xml" href="http://www.example.com/xml/atom.xml" /></code></li>
    <li><code>&lt;link rel="alternate" type="application/atom+xml" href="xml/atom.xml" /></code></li>
    <li><code>&lt;link rel="alternate" type="application/atom+xml" href="/xml/atom.xml" /></code></li>
    <li><code>&lt;link rel="AlTeRnAtE" type="application/atom+xml" href="http://www.example.com/xml/atom.xml" /></code></li>
    <li><code>&lt;link rel="alternate" type="APPLICATION/ATOM+XML" href="http://www.example.com/xml/atom.xml" /></code></li>
    <li><code>&lt;link href="http://www.example.com/xml/atom.xml" type="APPLICATION/ATOM+XML" rel="alternate" /></code></li>
    <li><code>&lt;link rel="alternate foo" type="application/atom+xml" href="http://www.example.com/xml/atom.xml" /></code></li>
    <li><code>&lt;link rel="foo alternate" type="application/atom+xml" href="http://www.example.com/xml/atom.xml" /></code></li>
    <li><code>&lt;link rel="foo alternate bar" type="application/atom+xml" href="http://www.example.com/xml/atom.xml" /></code></li>
    </ul>
  </li>

  <li><p>The following example is a complete HTML document located at <samp>http://www.example.com/</samp>.  It references an Atom feed at <samp>http://www.example.com/?format=atom</samp>.  It uses a relative URI with a query string.</p>

<p><code>&lt;html><br />
&lt;head><br />
&lt;link rel="alternate" type="application/atom+xml" href="?format=atom"><br />
&lt;/link><br />
&lt;/head><br />
&lt;body><br />
&lt;/body><br />
&lt;/html></code></p>
  </li>

  <li><p>The following example is a complete HTML document located at <samp>http://www.example.com/</samp>.  It references an Atom feed at <samp>http://example.org/atom.xml</samp>.  It uses a relative URI which is relative to the base URI specified in the &lt;base> element.</p>

<p><code>&lt;html><br />
&lt;head><br />
&lt;base href="http://example.org/"><br />
&lt;link rel="alternate" type="application/atom+xml" href="atom.xml"><br />
&lt;/link><br />
&lt;/head><br />
&lt;body><br />
&lt;/body><br />
&lt;/html></code></p>
  </li>

  <li><p>The following example is a complete HTML document located at <samp>http://www.example.com/</samp>.  It references multiple Atom feeds, located at <samp>http://www.example.com/xml/atom.xml</samp>, <samp>http://www.example.com/xml/comments.xml</samp>, and <samp>http://example.org/atom.xml</samp> respectively.  It uses the optional title attribute to label each feed.</p>

<p><code>&lt;html><br />
&lt;head><br />
&lt;link rel="alternate" type="application/atom+xml" title="Main Atom feed" href="/xml/atom.xml"><br />
&lt;link rel="alternate" type="application/atom+xml" title="Recent comments feed" href="/xml/comments.xml"><br />
&lt;link rel="alternate" type="application/atom+xml" title="Atom feed (mirror)" href="http://example.org/atom.xml"><br />
&lt;/link><br />
&lt;/head><br />
&lt;body><br />
&lt;/body><br />
&lt;/html></code></p>
  </li>
  </ul>
</li>
</ul>
<p class=c>&#167;

<h3 id=comments>Thirteen comments here (<a href=/web/20110806084451/http://diveintomark.org/recentcomments>latest comments</a>)</h3>
<ol class=cl>
<li id="comment-5598"><p>You MAY think that was too many examples, but you SHOULD not whine about it.</p>
<p>&#8230;Well, it&#8217;s too late now, isn&#8217;t it? :)</p>
<p>Great to have this from the beginning.</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084451/http://waffle.wootest.net/' rel='external nofollow' class='url'>Jesper</a></cite>&#160;<a class=p href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery#comment-5598" title="December 19, 2003 @ 2:53 am"><img alt="#" src=/web/20110806084451im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-5599"><p>Small question &#8211; here you&#8217;ve got autodiscovery only using rel=&#8221;alternate&#8221;, where presumably what&#8217;s being referred to is an alternate representation of this_page. Might it not be useful to allow the other available values, e.g. rel=&#8221;Index&#8221; (with type=&#8221;application/atom+xml&#8221;), to take you to the Atom format site index? </p>
<p>Apart from this, it looks like you&#8217;ve nailed down the syntax (good man!), but what isn&#8217;t clear is how Atom tools are expected to interpret it &#8211; i.e. clients MUST support the variants, but support how? &#8211; clients MAY use titles to present a list is all that&#8217;s here I think.</p>
<p>Another aspect that might be worth considering while you&#8217;re around here is that this is for discovery from (X)HTML, how about other XML languages, e.g. OpenOffice, RSS. My guess is that a namespace-qualified version of what you have here for XHTML would do the trick.</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084451/http://dannyayers.com/' rel='external nofollow' class='url'>Danny Ayers</a></cite>&#160;<a class=p href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery#comment-5599" title="December 19, 2003 @ 7:37 am"><img alt="#" src=/web/20110806084451im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-5600"><p>I second #2, Dannys Ayers point. For example you could have &lt;link rel=&#8221;alternate&#8221; type=&#8221;application/attom+xml&#8221; href=&#8221;<a href="/web/20110806084451/http://example.org/item?itemId=1&type=atom"><a href="/web/20110806084451/http://example.org/item?itemId=1&type=atom" rel="nofollow">http://example.org/item?itemId=1&#038;type=atom</a>&#8220;</a> /&gt; pointing to the atom version of a weblog entry say while &lt;link rel=&#8221;contents&#8221; type=&#8221;application/attom+xml&#8221; href=&#8221;<a href="/web/20110806084451/http://example.org/?type=atom"><a href="/web/20110806084451/http://example.org/?type=atom" rel="nofollow">http://example.org/?type=atom</a>&#8220;</a> /&gt; points to a &#8220;table of contents&#8221; or feed for the site.</p>
<p>Thining about it some more I think that you should allow multiple rel values (in a space seperated list) and change the wording you have used to say the rel attributes value &#8216;MUST be &#8220;alternate&#8221;&#8216; to &#8216;MUST &#8220;contain alternate&#8221;&#8216;. Then we could use &lt;link rel=&#8221;alternate contents&#8221; type=&#8221;application/attom+xml&#8221; href=&#8221;<a href="/web/20110806084451/http://example.org/?type=atom"><a href="/web/20110806084451/http://example.org/?type=atom" rel="nofollow">http://example.org/?type=atom</a>&#8220;</a> /&gt; which would preserve the use of &#8220;alternate&#8221; yet allowing it to be supplemented with additional information that could be used by aggregators etc.</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084451/http://www.benmeadowcroft.com/' rel='external nofollow' class='url'>Ben Meadowcroft</a></cite>&#160;<a class=p href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery#comment-5600" title="December 19, 2003 @ 8:05 am"><img alt="#" src=/web/20110806084451im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-5601"><p>Before any one calls me on &#8220;attom&#8221; instead of &#8220;atom&#8221;, yes I know, it&#8217;s a mistake, get over it ;-), that&#8217;s why I like the editable comments over at <a href="/web/20110806084451/http://bitworking.org/">http://bitworking.org</a></p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084451/http://www.benmeadowcroft.com/' rel='external nofollow' class='url'>Ben Meadowcroft</a></cite>&#160;<a class=p href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery#comment-5601" title="December 19, 2003 @ 8:07 am"><img alt="#" src=/web/20110806084451im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li class=me id="comment-5602"><p>The &#8220;contains &#8216;alternate&#8217;&#8221; is a good point, because the HTML spec states that @rel is a space-separated list of values.  I will make that correction.</p>
<p>I am not interested in documenting other uses of the LINK tag at this time, such as pointing to an index of feeds.  That&#8217;s a good idea, and I am inclined to agree with your syntax proposal, but you should bring it up in atom-syntax.  This is just a formalization of what has already been decided.</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084451/http://diveintomark.org/' rel='external nofollow' class='url'>Mark</a></cite>&#160;<a class=p href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery#comment-5602" title="December 19, 2003 @ 9:45 am"><img alt="#" src=/web/20110806084451im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-5603"><p>atomautodiscovery.py is missing a couple of  lines:</p>
<p>def getLinks(data, baseuri):<br />
    return p.links</p>
<p>should be;</p>
<p>def getLinks(data, baseuri):<br />
    p = AutodiscoveryLinkParser(baseuri)<br />
    p.feed(data)<br />
    return p.links</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084451/http://epeus.blogspot.com/' rel='external nofollow' class='url'>Kevin Marks</a></cite>&#160;<a class=p href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery#comment-5603" title="December 20, 2003 @ 5:39 am"><img alt="#" src=/web/20110806084451im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li class=me id="comment-5604"><p>Kevin: fixed, thanks.</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084451/http://diveintomark.org/' rel='external nofollow' class='url'>Mark</a></cite>&#160;<a class=p href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery#comment-5604" title="December 20, 2003 @ 4:57 pm"><img alt="#" src=/web/20110806084451im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-5605"><p>Yet another reason to make Atom the native model for my next version of NewsDesk. You&#8217;ve done a great job with Atom and autodiscovery. Thanks!</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084451/http://www.wildgrape.net/' rel='external nofollow' class='url'>David Peckham</a></cite>&#160;<a class=p href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery#comment-5605" title="December 21, 2003 @ 1:02 am"><img alt="#" src=/web/20110806084451im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li class=me id="comment-5606"><p>Hey there, Dave!  I was watching my access logs all day yesterday with &#8220;tail -f access.log | grep /tests&#8221; and saw you finally pass them around midnight.  Congratulations!  I think you&#8217;re the first.</p>
<p>Boy, that #52 is a bitch, isn&#8217;t it?  ;)</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084451/http://diveintomark.org/' rel='external nofollow' class='url'>Mark</a></cite>&#160;<a class=p href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery#comment-5606" title="December 21, 2003 @ 6:18 am"><img alt="#" src=/web/20110806084451im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li class=tb id="comment-5609"><cite><a href='/web/20110806084451/http://icite.net/blog/200312/atom_autodiscovery.html' rel='external nofollow' class='url'>the iCite net development blog</a></cite>&#160;(trackback)</li>
<li id="comment-5607"><p>Yep :) And I started at 2am Saturday!</p>
<p>Are you planning to do a test suite for other Atom features?</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084451/http://www.wildgrape.net/' rel='external nofollow' class='url'>David Peckham</a></cite>&#160;<a class=p href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery#comment-5607" title="December 21, 2003 @ 9:28 pm"><img alt="#" src=/web/20110806084451im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li class=me id="comment-5608"><p>David: absolutely!</p>
<p>We &#9829; unit testing.</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084451/http://diveintomark.org/' rel='external nofollow' class='url'>Mark</a></cite>&#160;<a class=p href="/web/20110806084451/http://diveintomark.org/archives/2003/12/19/atom-autodiscovery#comment-5608" title="December 21, 2003 @ 9:43 pm"><img alt="#" src=/web/20110806084451im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li class=tb id="comment-5610"><cite><a href='/web/20110806084451/http://www.samizdata.org/blog/archives/000092.html' rel='external nofollow' class='url'>neoramble</a></cite>&#160;(trackback)</li>
</ol>
<h3 id=respond>Respond privately</h3>
<p><i>I am no longer accepting public comments on this post, but you can use this form to contact me privately.  (Your message will not be published.)</i></p>
<form action="/web/20110806084451/http://wearehugh.com/public/contact.cgi" method=POST id=commentform>
<p><label for=author>Name </label><br>
<input type=text name=author id=author>
<p><label for=email>Email</label><br>
<input type=text name=email id=email></p>
<p><label for=comment>Message</label>
<textarea name=comment id=comment rows=10 cols=40></textarea></p>
<p><input type=submit value="Send message">
</p>
</form>
<p class=c>&#167;
<div class=f>
<p>
<a title="my comments here and elsewhere" href=/web/20110806084451/http://firehose.diveintomark.org/>firehose</a> &#x2027;
<a title="my current open source projects" href="/web/20110806084451/http://code.google.com/u/@UxdWQ1xUDhhBWwd%2F/">code</a> &#x2027;
<a title="my personal news aggregator" href=/web/20110806084451/http://feeds.diveintomark.org/>planet</a>
<p>&#169; 2001&#8211;present <a accesskey=9 href=/web/20110806084451/http://diveintomark.org/about>Mark Pilgrim</a>
</div>
</body>
</html>

<!-- Dynamic page generated in 0.336 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-06-14 04:45:13 -->
<!-- super cache -->




<!--
     FILE ARCHIVED ON 8:44:51 Aug 6, 2011 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:12:00 Jan 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
