<!DOCTYPE HTML>
<html lang=en>
<head>
<meta charset=utf-8>
<title>Protocol buffers: the early reviews are in [dive into mark]</title>
<link rel=alternate type=application/atom+xml href=/web/20110806084256/http://diveintomark.org/feed/>
<link rel=me type=text/html href=/web/20110806084256/http://www.google.com/profiles/pilgrim>
<link rel=author href=/web/20110806084256/http://diveintomark.org/about>
<link rel=search type=application/opensearchdescription+xml href=/web/20110806084256/http://wearehugh.com/public/2006/09/opensearch-full.xml title="dive into mark">
<link rel="shortcut icon" href=/web/20110806084256im_/http://diveintomark.org/favicon.ico>
<link rel=prev href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/nystopchildporn" title="NY&#8217;s top child porn">
<link rel=next href="/web/20110806084256/http://diveintomark.org/archives/2008/07/17/things" title="Things that are awesome">
<link rel=up href="/web/20110806084256/http://diveintomark.org/archives#p1982" title="July 2008">
<link rel="alternate" type="application/rss+xml" title="dive into mark &raquo; Protocol buffers: the early reviews are in Comments Feed" href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf/feed" />
<link rel='index' title='dive into mark' href='/web/20110806084256/http://diveintomark.org/' />
<link rel='prev' title='NY&#8217;s top child porn' href='/web/20110806084256/http://diveintomark.org/archives/2008/07/12/nystopchildporn' />
<link rel='next' title='Things that are awesome' href='/web/20110806084256/http://diveintomark.org/archives/2008/07/17/things' />
<link rel='canonical' href='/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf' />
<link rel='shortlink' href='/web/20110806084256/http://diveintomark.org/?p=1982' />
<meta name="description" content="No wireless. Less space than a Nomad. Lame.">
<meta name="keywords" content="asn.1,c++,google,java,json,programming,python,scalability,xml">
<link href="/web/20110806084256cs_/http://fonts.googleapis.com/css?family=Lora" rel=stylesheet>
<style type=text/css>
/*dive into minimalism(c)2010 Mark Pilgrim,MIT-licensed including graphics*/
html{background:white url(/web/20110806084256/http://wearehugh.com/m.jpg) no-repeat bottom right;color:black}
body{font:normal medium Lora,serif;margin:1.75em auto;width:40em;line-height:1.75;word-spacing:0.1em}
em,i,blockquote{font-family:Lora,serif;font-style:oblique}
strong,b{font-family:Lora,serif;}
pre,code,var,samp,kbd,tt{font-family:monospace}
h2,h3{font-weight:bold}
.c{font-family:'Arial Unicode MS',FreeSerif,'DejaVu Sans',sans-serif}
a{background:transparent;text-decoration:none;border-bottom:1px dotted}
a:hover{border-bottom:1px solid}
a:link{color:#1b67c9}
a:visited{color:darkorchid}
h1 a,h2 a,h3 a,#nav a,.punch a{color:inherit !important}
abbr,.p{border:0;letter-spacing:0.1em;text-transform:lowercase;font-variant:small-caps}
h1,h2,h3,p,ul,ol,#nav{margin:1.75em 0}
h1,h2,h3{font-size:medium}
h1,h2{display:inline}
h1{font-weight:normal}
pre,tt{white-space:pre-wrap;font-size:medium;line-height:2.154}
cite{font-style:normal}
img{border:0}
.framed{border:1px solid}
.cl,#arc th,#arc td,.punch p{list-style:none;margin:0;padding:0}
.cl li{margin-bottom:-1px;border-bottom:1px dotted;overflow:hidden}
.sig,.tb,.pb,blockquote{font-size:small;line-height:2.154;margin:2.154em 0;padding:0}
blockquote{font-style:oblique;border-left:1px dotted;margin-left:2.154em;padding-left:2.154em}
blockquote p{margin:2.154em 0}
.tb,.pb{margin-top:0;padding:2.154em 0}
.sig,.punch,#arc th{text-align:right}
.f,.c{text-align:center;clear:both}
#comment,#arc{width:100%}
#comment{height:14.6em;margin:0;line-height:2.154}
.me{background:papayawhip;color:black;padding:1.75em 1.75em 0 1.75em;border-top:1px dotted;margin-top:-2px}
.me>p:first-child{margin-top:0}
.punch{float:right;font-size:x-small;margin:0 0 1.75em 1.75em;line-height:1.75}
#nav + .punch + p:first-letter{float:left;color:gainsboro;padding:0.11em 4px 0 0;font:normal 4em/0.68 serif}
#arc th{padding:0 1.75em 0 0;vertical-align:baseline}
#arc{border-collapse:collapse}
figure{display:block;text-align:center;margin:1.75em 0}
figure img{display:block;margin:0 auto}
</style>
<script>_gaq=[['_setAccount','UA-7434570-2'],['_trackPageview'],['_trackPageLoadTime']];(function(){var g=document.createElement('script');g.src='//www.google-analytics.com/ga.js';g.setAttribute('async','true');document.documentElement.firstChild.appendChild(g);})();</script>
<link rel=canonical href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf">
</head>
<body>
<!-- BEGIN WAYBACK TOOLBAR INSERT -->

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/diveintomark.org\/archives\/2008\/07\/12\/protobuf";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "6";
var displayMonth = "Aug";
var displayYear = "2011";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px; z-index:9000;">
<div id="wm-ipp-inside" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://diveintomark.org/archives/2008/07/12/protobuf" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20110806084256" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20110514122608/http://diveintomark.org/archives/2008/07/12/protobuf" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="14 May 2011"><strong>MAY</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 8:42:56 Aug 6, 2011">AUG</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20111025141946/http://diveintomark.org/archives/2008/07/12/protobuf" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="25 Oct 2011"><strong>OCT</strong></a>
		                
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20110514122608/http://diveintomark.org/archives/2008/07/12/protobuf" title="12:26:08 May 14, 2011" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 8:42:56 Aug 6, 2011">6</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20111025141946/http://diveintomark.org/archives/2008/07/12/protobuf" title="14:19:46 Oct 25, 2011" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0"/></a>
		                
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20100615094623/http://diveintomark.org/archives/2008/07/12/protobuf" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="15 Jun 2010"><strong>2010</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 8:42:56 Aug 6, 2011">2011</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2012
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20110806084256*/http://diveintomark.org/archives/2008/07/12/protobuf" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>67 captures</strong></a>
           <div style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">13 Jul 08 - 7 Jun 12</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000000000000_2008:-1:000000dfc101_2009:-1:010000000000_2010:-1:001011000111_2011:7:000010010100_2012:-1:010001000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->

<div id=nav><h1><a accesskey=1 href=/web/20110806084256/http://diveintomark.org/>dive into mark</a></h1> &#8227;
<a href="/web/20110806084256/http://diveintomark.org/archives#p1982">July 12, 2008</a> &#8227;
<h2>Protocol buffers: the early reviews are in</h2> (<a href="/web/20110806084256/http://diveintomark.org/tag/asn1" rel="tag">asn.1</a>, <a href="/web/20110806084256/http://diveintomark.org/tag/c" rel="tag">c++</a>, <a href="/web/20110806084256/http://diveintomark.org/tag/google" rel="tag">google</a>, <a href="/web/20110806084256/http://diveintomark.org/tag/java" rel="tag">java</a>, <a href="/web/20110806084256/http://diveintomark.org/tag/json" rel="tag">json</a>, <a href="/web/20110806084256/http://diveintomark.org/tag/programming" rel="tag">programming</a>, <a href="/web/20110806084256/http://diveintomark.org/tag/python" rel="tag">python</a>, <a href="/web/20110806084256/http://diveintomark.org/tag/scalability" rel="tag">scalability</a>, <a href="/web/20110806084256/http://diveintomark.org/tag/xml" rel="tag">xml</a>)</div>
<p>Google (my current employer) has finally <a href="/web/20110806084256/http://google-opensource.blogspot.com/2008/07/protocol-buffers-googles-data.html">open sourced protocol buffers</a>, the data interchange format we use for internal server-to-server communication.  The blogosphere&#8217;s response?  &#8220;<a href="/web/20110806084256/http://www.oreillynet.com/xml/blog/2008/07/google_hates_xml.html?CMP=OTC-TY3388567169&ATT=Google+hates+XML">No wireless</a>.  <a href="/web/20110806084256/http://blogs.tedneward.com/CommentView,guid,98ba2332-0f84-4697-b165-87ee357309cb.aspx">Less space than a Nomad</a>.  <a href="/web/20110806084256/http://steve.vinoski.net/blog/2008/07/11/protocol-buffers-no-big-deal/">Lame</a>.&#8221;</p>

<p>Aaaaanyway&#8230;</p>

<p>Protocol buffers are &#8220;<a href="/web/20110806084256/http://c2.com/cgi/wiki?JustIsaDangerousWord">just</a>&#8221; cross-platform data structures.  <a href="/web/20110806084256/http://www.coriolinus.net/2008/07/08/protocol-buffers/">All you have to write is the schema</a> (a <code>.proto</code> file), then generate bindings in <a href="/web/20110806084256/http://code.google.com/apis/protocolbuffers/docs/cpptutorial.html">C++</a>, <a href="/web/20110806084256/http://code.google.com/apis/protocolbuffers/docs/javatutorial.html">Java</a>, or <a href="/web/20110806084256/http://code.google.com/apis/protocolbuffers/docs/pythontutorial.html">Python</a>.  (Or <a href="/web/20110806084256/http://hackage.haskell.org/cgi-bin/hackage-scripts/package/protocol-buffers-0.0.5">Haskell</a>.  Or <a href="/web/20110806084256/http://groups.google.com/group/protobuf-perl">Perl</a>.)  The <code>.proto</code> file is <a href="/web/20110806084256/http://www.betanews.com/article/Google_releases_its_data_encoding_format_to_compete_with_XML/1215530589">just a schema</a>; it doesn&#8217;t contain any data except default values.  All getting and setting is done in code.  The serialized over-the-wire format is designed to minimize network traffic, and deserialization (especially in C++) is designed to maximize performance.  I can&#8217;t begin to describe how much effort Google spends maximizing performance at every level.  We would tear down our data centers and rewire them with <a href="/web/20110806084256/http://news.cnet.com/8301-17938_105-9967991-1.html">$500 ethernet cables</a> if you could prove that it would reduce latency by 1%.</p>

<p>Besides being blindingly fast, protocol buffers have lots of neat features.  <a href="/web/20110806084256/http://scottkirkwood.blogspot.com/2008/07/google-opensources-protocol-buffers.html">A zero-size <abbr>PB</abbr> returns default values</a>.  <a href="/web/20110806084256/http://zunger.livejournal.com/164024.html">You can nest <abbr>PB</abbr>s inside each other</a>.  And most importantly, <abbr>PB</abbr>s are <a href="/web/20110806084256/http://news.ycombinator.com/item?id=239445">both backward and forward compatible</a>, which means you can <a href="/web/20110806084256/http://www.mattcutts.com/blog/google-releases-protocol-buffers/">upgrade servers gradually</a> and they can still talk to each other in the interim.  (When you have as many machines as Google has, it&#8217;s always the interim somewhere.)</p>

<p>Comparisons to other data formats was, I suppose, inevitable.  <a href="/web/20110806084256/http://www.thenewsbeforethenews.com/2008/07/10/everything-old-is-new-again/">Old-timers may remember <abbr>ASN.1</abbr></a> or <a href="/web/20110806084256/http://tech.slashdot.org/tech/08/07/08/201245.shtml"><abbr>IIOP</abbr></a>.  Kids these days seem to <a href="/web/20110806084256/http://www.webmasterworld.com/xml/3693285.htm">compare everything to <abbr>XML</abbr></a> or <a href="/web/20110806084256/http://www.freshblurbs.com/google-protocol-buffers-good-bad-and-ugly"><abbr>JSON</abbr></a>.  They&#8217;re actually closer to Facebook&#8217;s <a href="/web/20110806084256/http://stuartsierra.com/2008/07/10/thrift-vs-protocol-buffers">Thrift</a> (<a href="/web/20110806084256/http://news.ycombinator.com/item?id=239276">written by ex-Googlers</a>) or <a href="/web/20110806084256/http://www.25hoursaday.com/weblog/CommentView.aspx?guid=898f56ef-0439-4100-90da-08701be03c13">SQL Server&#8217;s <abbr>TDS</abbr></a>.  Protocol buffers won&#8217;t <a href="/web/20110806084256/http://zimboe.wordpress.com/2008/07/10/farewell-xml/">kill <abbr>XML</abbr></a> (no matter how much <a href="/web/20110806084256/http://www.sharms.org/blog/?p=168">you wish they would</a>), nor will they replace <abbr>JSON</abbr>, <abbr>ASN.1</abbr>, or <a title="the world's first and only implementation of RFC 1149" href="/web/20110806084256/http://www.blug.linux.no/rfc1149/">carrier pigeon</a>.  But they&#8217;re simple and they&#8217;re fast and <a href="/web/20110806084256/http://www.webmonkey.com/blog/Google_s_Open_Source_Protocol_Buffers_Offer_Scalability__Speed">they scale like crazy</a>, and that&#8217;s the way Google likes it.</p>

<p class=c>&#167;

<h3 id=comments>Twenty comments here (<a href=/web/20110806084256/http://diveintomark.org/recentcomments>latest comments</a>)</h3>
<ol class=cl>
<li id="comment-12398"><p>I didn&#8217;t understand a single word you just said, but it still sounds pretty cool.</p>
<p class=sig>&#8212;&#8201;<cite>Jake</cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12398" title="July 12, 2008 @ 10:08 pm"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12399"><p>The protests against Protocol Buffers are hilarious. </p>
<p>XML has but one justification for it&#8217;s existence.  Not RPC. Not document formats. Not databases. Not configuration files. Not programming languages (We hate you, CF). Standardised data exchange is the word.</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084256/http://mikkel.hoegh.org/' rel='external nofollow' class='url'>Mikkel Høgh</a></cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12399" title="July 12, 2008 @ 11:47 pm"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12400"><p>Well said. The hating rants were a fun read.</p>
<p class=sig>&#8212;&#8201;<cite>Tyler F</cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12400" title="July 12, 2008 @ 11:47 pm"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12401"><p>What about Erlang?</p>
<p class=sig>&#8212;&#8201;<cite>anonymouse</cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12401" title="July 13, 2008 @ 1:04 am"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12402"><p>As someone who was irritated every time he had to hand-roll packing and unpacking code for yet another proprietary IP-based protocol (htonl(), anyone?), the utility of this is not lost on me.  Very nice.</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084256/http://avdi.org/' rel='external nofollow' class='url'>Avdi</a></cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12402" title="July 13, 2008 @ 1:10 am"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12403"><p>I&#8217;d almost forgotten about IIOP.  Actually though, PB reminds me the most of good old XDR (RFC 1832 &amp; 4506).</p>
<p>Instead of a .proto you have a .x file.  And although originally it was only used with C (later C++), I&#8217;ve used it to exchange data between C and Python and on different endian architectures.  XDR though tries to keep everything 4-byte aligned at the expense of adding padding bytes, which was a good performance choice back when CPUs were so slow and had data alignment constraints.</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084256/http://deron.meranda.us/' rel='external nofollow' class='url'>Deron Meranda</a></cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12403" title="July 13, 2008 @ 1:16 am"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12404"><p>Holy fuck! Links! And since when did your blog start dissolving into a fractal?</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084256/http://justinsomnia.org/' rel='external nofollow' class='url'>Justin</a></cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12404" title="July 13, 2008 @ 1:54 am"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12405"><p>I think this post may be the most cogent piece of writing I&#8217;ve read on them (including the announcement blog post).<br />
That may be part of your problem?</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084256/http://believeinanything.com/' rel='external nofollow' class='url'>Phill</a></cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12405" title="July 13, 2008 @ 2:46 am"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12406"><p>If I were going to send/recieve Protocol Buffer messages over HTTP, is there any sort of media type I should be using?</p>
<p class=sig>&#8212;&#8201;<cite>Dan</cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12406" title="July 13, 2008 @ 3:20 am"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12407"><p>It reminded me of the IFF format of the eighties (<a href="/web/20110806084256/http://en.wikipedia.org/wiki/Interchange_File_Format" rel="nofollow">http://en.wikipedia.org/wiki/Interchange_File_Format</a>). No schema support but it had all the other nice features like skipping parts of the format unknown to the reader and standard dictionary and list chunks.</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084256/http://www.olivepeak.com/blog/' rel='external nofollow' class='url'>Carlos</a></cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12407" title="July 13, 2008 @ 6:25 am"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li class=pb id="comment-12408"><cite><a href='/web/20110806084256/http://steve.vinoski.net/blog/2008/07/13/protocol-buffers-leaky-rpc/' rel='external nofollow' class='url'>Protocol Buffers: Leaky RPC :: Steve Vinoski&#8217;s Blog</a></cite>&#160;(pingback)</li>
<li id="comment-12410"><p>Dan, if you&#8217;re going to use protocol buffers over HTTP, you might as well use JSON.  The overhead of text protocols like HTTP is exactly what binary packet interfaces like proto bufs are trying to avoid.</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084256/http://meat.net/' rel='external nofollow' class='url'>dbt</a></cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12410" title="July 13, 2008 @ 11:53 am"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12411"><p>In Practical Cryptography, Bruce Schneier points out that one advantage of XML for communicating over a secure channel is that you can do an integrity check of your data on the other end.  That is, because the data is self describing, you can make sure that dropping or inserting a random byte hasn&#8217;t shifted the offsets for all of your fields and corrupted the underlying data.  If Google is optimizing for low latency within their own networks, I would not think that this would be an issue, but is there a method for doing for an integrity check where relevant?   (A corner case might be checking that you&#8217;re not parsing a stream with the wrong .proto schema)</p>
<p class=sig>&#8212;&#8201;<cite>Mark</cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12411" title="July 13, 2008 @ 2:32 pm"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12412"><p>&#8220;Protocol buffers are “just” cross-platform data structures.&#8221;<br />
That&#8217;s how it always starts, it&#8217;s just a cross-language type serializer. And then you get RPC, or some dressed up equivalence. You only need to read the bottom of this page to see that:<br />
<a href="/web/20110806084256/http://code.google.com/apis/protocolbuffers/docs/overview.html" rel="nofollow">http://code.google.com/apis/protocolbuffers/docs/overview.html</a><br />
Sure, if you control the endpoints, and your system is in capable hands, etc, it won&#8217;t spiral out of control, etc, etc. But that&#8217;s almost always true, even for many of the things you&#8217;ve criticized in the past. We&#8217;ve seen this movie. Come back in a few years.</p>
<p class=sig>&#8212;&#8201;<cite>Ali</cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12412" title="July 13, 2008 @ 3:04 pm"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li id="comment-12413"><p>I&#8217;ve published some more comments, as well as some questions, in the blog posting following the one you link to:</p>
<p>Any chance someone from Google could answer the questions?</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084256/http://steve.vinoski.net/' rel='external nofollow' class='url'>Steve Vinoski</a></cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12413" title="July 13, 2008 @ 4:54 pm"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li class=pb id="comment-12414"><cite><a href='/web/20110806084256/http://simone.ruffilli.it/index.php/2008/07/links-for-2008-07-14/' rel='external nofollow' class='url'>Sprazzi di Lucidità &raquo; links for 2008-07-14</a></cite>&#160;(pingback)</li>
<li class=pb id="comment-12415"><cite><a href='/web/20110806084256/http://breyten.wordpress.com/2008/07/14/links-for-2008-07-14/' rel='external nofollow' class='url'>links for 2008-07-14 &laquo; Breyten&#8217;s Dev Blog</a></cite>&#160;(pingback)</li>
<li class=pb id="comment-12416"><cite><a href='/web/20110806084256/http://www.25hoursaday.com/weblog/2008/07/14/ScalabilityIDontThinkThatWordMeansWhatYouThinkItDoes.aspx' rel='external nofollow' class='url'>Dare Obasanjo aka Carnage4Life - Scalability: I Don't Think That Word Means What You Think It Does</a></cite>&#160;(pingback)</li>
<li id="comment-12417"><p>I wrote an article on XML.Com on how Google hates XML.<br />
I am _STILL_ trying to understand why you did not use JSON.  I KNOW you serialize over the wire in a different format, so WHY invent something new?  It seems YOUR format is very similar to JSON &#8211; it is just missing a comma.<br />
WTF?</p>
<p class=sig>&#8212;&#8201;<cite><a href='/web/20110806084256/http://openajax.com/blog' rel='external nofollow' class='url'>Ric</a></cite>&#160;<a class=p href="/web/20110806084256/http://diveintomark.org/archives/2008/07/12/protobuf#comment-12417" title="July 14, 2008 @ 6:38 pm"><img alt="#" src=/web/20110806084256im_/http://wearehugh.com/h.png width=8 height=9></a></li>
<li class=pb id="comment-12418"><cite><a href='/web/20110806084256/http://www.soabloke.com/2008/07/15/protocol-buffers-deja-yawn/' rel='external nofollow' class='url'>Protocol Buffers: deja yawn | soabloke</a></cite>&#160;(pingback)</li>
</ol>
<h3 id=respond>Respond privately</h3>
<p><i>I am no longer accepting public comments on this post, but you can use this form to contact me privately.  (Your message will not be published.)</i></p>
<form action="/web/20110806084256/http://wearehugh.com/public/contact.cgi" method=POST id=commentform>
<p><label for=author>Name </label><br>
<input type=text name=author id=author>
<p><label for=email>Email</label><br>
<input type=text name=email id=email></p>
<p><label for=comment>Message</label>
<textarea name=comment id=comment rows=10 cols=40></textarea></p>
<p><input type=submit value="Send message">
</p>
</form>
<p class=c>&#167;
<div class=f>
<p>
<a title="my comments here and elsewhere" href=/web/20110806084256/http://firehose.diveintomark.org/>firehose</a> &#x2027;
<a title="my current open source projects" href="/web/20110806084256/http://code.google.com/u/@UxdWQ1xUDhhBWwd%2F/">code</a> &#x2027;
<a title="my personal news aggregator" href=/web/20110806084256/http://feeds.diveintomark.org/>planet</a>
<p>&#169; 2001&#8211;present <a accesskey=9 href=/web/20110806084256/http://diveintomark.org/about>Mark Pilgrim</a>
</div>
</body>
</html>

<!-- Dynamic page generated in 0.408 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-06-13 12:50:15 -->
<!-- super cache -->




<!--
     FILE ARCHIVED ON 8:42:56 Aug 6, 2011 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:04:45 Jan 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
